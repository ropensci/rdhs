<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Set rdhs config — set_rdhs_config • rdhs</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Set rdhs config — set_rdhs_config"><meta property="og:description" content="Sets the configuration settings for using rdhs."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rdhs</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.8.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/anemia.html">Anemia prevalence: an `rdhs` example</a>
    </li>
    <li>
      <a href="../articles/boundaries.html">Downloading Shape Files for DHS Surveys</a>
    </li>
    <li>
      <a href="../articles/client.html">rdhs client object and internal package design</a>
    </li>
    <li>
      <a href="../articles/country_codes.html">Country Names and Codes</a>
    </li>
    <li>
      <a href="../articles/geojson.html">Interacting with geojson API returns</a>
    </li>
    <li>
      <a href="../articles/introduction.html">How to use rdhs?</a>
    </li>
    <li>
      <a href="../articles/testing.html">Running test suite locally</a>
    </li>
    <li>
      <a href="../articles/toolkit.html">Toolkit</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ropensci/rdhs/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Set rdhs config</h1>
    <small class="dont-index">Source: <a href="https://github.com/ropensci/rdhs/blob/main/R/config.R" class="external-link"><code>R/config.R</code></a></small>
    <div class="hidden name"><code>set_rdhs_config.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Sets the configuration settings for using rdhs.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">set_rdhs_config</span><span class="op">(</span></span>
<span>  email <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  project <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cache_path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  config_path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  global <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  verbose_download <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose_setup <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  data_frame <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  timeout <span class="op">=</span> <span class="fl">30</span>,</span>
<span>  password_prompt <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  prompt <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-email">email<a class="anchor" aria-label="anchor" href="#arg-email"></a></dt>
<dd><p>Character for email used to login to the DHS website.</p></dd>


<dt id="arg-project">project<a class="anchor" aria-label="anchor" href="#arg-project"></a></dt>
<dd><p>Character for the name of the DHS project from which
datasets should be downloaded.</p></dd>


<dt id="arg-cache-path">cache_path<a class="anchor" aria-label="anchor" href="#arg-cache-path"></a></dt>
<dd><p>Character for directory path where datasets and API calls
will be cached. If left bank, a suitable directory will be created within
your user cache directory for your operating system (permission granting).</p></dd>


<dt id="arg-config-path">config_path<a class="anchor" aria-label="anchor" href="#arg-config-path"></a></dt>
<dd><p>Character for where the config file should be saved.
For a global configuration, `config_path` must be '~/.rdhs.json'.
For a local configuration, `config_path` must be 'rdhs.json'.
If left bank, the config file will be stored within
your user cache directory for your operating system (permission granting).</p></dd>


<dt id="arg-global">global<a class="anchor" aria-label="anchor" href="#arg-global"></a></dt>
<dd><p>Logical for the config_path to be interpreted as a global
config path or a local one. Default = TRUE.</p></dd>


<dt id="arg-verbose-download">verbose_download<a class="anchor" aria-label="anchor" href="#arg-verbose-download"></a></dt>
<dd><p>Logical for dataset download progress bars to be
shown. Default = FALSE.</p></dd>


<dt id="arg-verbose-setup">verbose_setup<a class="anchor" aria-label="anchor" href="#arg-verbose-setup"></a></dt>
<dd><p>Logical for rdhs setup and messages to be printed.
Default = TRUE.</p></dd>


<dt id="arg-data-frame">data_frame<a class="anchor" aria-label="anchor" href="#arg-data-frame"></a></dt>
<dd><p>Function with which to convert API calls into. If left
blank <code>data_frame</code> objects are returned. Must be passed as a
character. Examples could be:
<code><a href="https://rdrr.io/pkg/data.table/man/as.data.table.html" class="external-link">data.table::as.data.table</a></code>
<code><a href="https://tibble.tidyverse.org/reference/deprecated.html" class="external-link">tibble::as.tibble</a></code></p></dd>


<dt id="arg-timeout">timeout<a class="anchor" aria-label="anchor" href="#arg-timeout"></a></dt>
<dd><p>Numeric for how long in seconds to wait for the DHS API to
respond. Default = 30.</p></dd>


<dt id="arg-password-prompt">password_prompt<a class="anchor" aria-label="anchor" href="#arg-password-prompt"></a></dt>
<dd><p>Logical whether user is asked to type their password,
even if they have previously set it. Default = FALSE. Set to TRUE if you
have mistyped your password when using <code>set_rdhs_config</code>.</p></dd>


<dt id="arg-prompt">prompt<a class="anchor" aria-label="anchor" href="#arg-prompt"></a></dt>
<dd><p>Logical for whether the user should be prompted for
permission to write to files. This should not need be
changed by the user. Default = TRUE.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>Invisibly returns the rdhs config object</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Setting up a configuration will enable API results to be cached, as
  well as enabling datasets from the DHS website to be downloaded and also
  cached. To enable results to be cached you have to either provide a valid
  `cache_path` argument, or allow rdhs to write to the user cache directory
  for your operating system. To do the later, leave the `cache_path` argument
  blank and you will be explicitly prompted to give permission to `rdhs` to
  save your results in this directory. If you do not then your API calls and
  any downloaded datasets will be saved in the temp directory and deleted
  after your R session closes. To allow `rdhs` to download datasets from the
  DHS website, you have to provide both an `email` and `project` argument.
  You will then be prompted to type in your login password securely.
  Your provided config (email, project, password, cache_path etc) will be
  saved at the location provided by `config_path`. If no argument is provided
  `config_path` will be either set to within your user cache directory if you
  have given permission to do so, otherwise it will be placed within your
  temp directory.</p>
<p>When creating your config you also have the option to specify whether the
  `config_path` provided should be used as a local configuration or a global
  one. This is controlled using the `global` argument, which by default is
  set equal to `TRUE`. A global config is saved within your R root directory
  (the directory that a new R session will start in). If you set `global` to
  `FALSE` the config file will be saved within the current directory. This
  can be useful if you create a new DHS project for each new piece of work,
  and want to keep the datasets you download for this project separate to
  another. If you want to have your config file saved in a different
  directory, then you must create a file "rdhs.json" first in that directory
  before specifying the full path to it, as well as setting `global` equal to
  `FALSE`.</p>
<p>As an aside, it is useful for the DHS program to see how the surveys they
  conducted are being used, and thus it is helpful for them if you do create
  a new project for each new piece of work (e.g. a different publication).
  However, we would still recommend setting up a global config and using
  the same `cache_path` for different projects as this will save you time
  downloading the same datasets as you have downloaded before.</p>
<p>Lastly, you can decide how API calls from the DHS API are formatted by
  providing an argument for `data_frame`. If left blank API calls will be
  returned as `data.frame` objects, however, you could return API calls as
  `data.table` objects using `data.table::as.data.table`.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># normal set up we would prvide the email and project, and be prompted for</span></span></span>
<span class="r-in"><span><span class="co"># the password. (not run as it requires a prompt)</span></span></span>
<span class="r-in"><span><span class="fu">set_rdhs_config</span><span class="op">(</span>email <span class="op">=</span> <span class="st">"blah@gmail.com"</span>, project <span class="op">=</span> <span class="st">"Blahs"</span>,</span></span>
<span class="r-in"><span>config_path <span class="op">=</span> <span class="st">"rdhs.json"</span>, global <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># otherwise we can do this by specifying prompt to FALSE</span></span></span>
<span class="r-in"><span><span class="fu">set_rdhs_config</span><span class="op">(</span></span></span>
<span class="r-in"><span>config_path <span class="op">=</span> <span class="st">"rdhs.json"</span>, global <span class="op">=</span> <span class="cn">FALSE</span>, prompt <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># you can look at what you have set these to using \code{get_rdhs_config}</span></span></span>
<span class="r-in"><span><span class="va">config</span> <span class="op">&lt;-</span> <span class="fu"><a href="get_rdhs_config.html">get_rdhs_config</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by OJ Watson, Jeff Eaton.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

